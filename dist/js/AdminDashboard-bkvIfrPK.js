import{j as e}from"./chunk-aAkv6woa.js";import{r as s}from"./chunk-CRvknJha.js";import{C as t,c as a,a as i,b as l,B as c}from"../assets/index-i8wSawhV.js";import{c as r,B as n}from"./chunk-C2Wav99Y.js";import{A as o}from"./chunk-SshbQ2oS.js";import{aq as d,I as x,U as m,n as h,aw as p,g as j,P as u,a4 as g}from"./chunk-CFjh8-P5.js";import{L as f}from"./chunk-BS4ofh5H.js";import"./chunk-oqmhCI76.js";import"./chunk-DdJ5UvfL.js";import"./chunk-Djsr9rkS.js";const b=()=>{const[b,v]=s.useState({totalJobs:0,activeJobs:0,totalApplicants:0,pendingApplications:0,recentApplications:[]}),[N,y]=s.useState([]),[w,A]=s.useState(!0);s.useEffect(()=>{k(),C()},[]);const k=async()=>{try{const e=await r.getDashboardStats();v(e)}catch(e){}finally{A(!1)}},C=async()=>{try{const e=await r.getJobPostings(!0);y(e.slice(0,5))}catch(e){}},J=[{title:"Total Jobs",value:b.totalJobs,icon:d,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Active Jobs",value:b.activeJobs,icon:x,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Applicants",value:b.totalApplicants,icon:m,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Pending Applications",value:b.pendingApplications,icon:h,color:"text-orange-600",bgColor:"bg-orange-100"}];return w?e.jsx(o,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard"}),e.jsx("p",{className:"text-gray-800",children:"Overview of your career management system"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:J.map(s=>{const i=s.icon;return e.jsx(t,{className:"hover:shadow-md transition-shadow",children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:s.title}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value})]}),e.jsx("div",{className:`w-12 h-12 ${s.bgColor} rounded-lg flex items-center justify-center`,children:e.jsx(i,{className:`w-6 h-6 ${s.color}`})})]})})},s.title)})}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(l,{children:"Quick Actions"})}),e.jsx(a,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(c,{asChild:!0,children:e.jsxs(f,{to:"/admin/jobs",className:"gap-2",children:[e.jsx(p,{className:"w-4 h-4"}),"Create Job"]})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(f,{to:"/admin/applicants",children:"View Applicants"})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(f,{to:"/admin/resume-drop",children:"Resume Drop"})})]})})]}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(l,{children:"Recent Applications"})}),e.jsx(a,{children:0===b.recentApplications.length?e.jsx("div",{className:"text-center py-8 text-gray-800",children:"No recent applications"}):e.jsx("div",{className:"space-y-4",children:b.recentApplications.map(s=>e.jsx("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:"font-medium text-foreground",children:s.name}),e.jsx(n,{variant:"outline",children:s.status})]}),e.jsxs("p",{className:"text-sm text-foreground mb-2",children:["Application ID:"," ",e.jsx("span",{className:"font-medium",children:s.id.slice(0,8)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),s.email]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3"}),s.phone]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-3 h-3"}),new Date(s.appliedAt).toLocaleDateString()]})]})]})},s.id))})})]}),e.jsxs(t,{children:[e.jsx(i,{children:e.jsx(l,{children:"Recent Job Postings"})}),e.jsx(a,{children:0===N.length?e.jsx("div",{className:"text-center py-8 text-gray-800",children:"No recent jobs"}):e.jsx("div",{className:"space-y-3",children:N.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-800",children:[s.department," â€¢ ",s.location]})]}),e.jsx(n,{variant:"Active"===s.status?"default":"secondary",children:s.status})]},s.id))})})]})]})})};export{b as default};
